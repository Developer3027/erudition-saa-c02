---
title: 'VPC'
excerpt: 'Virtual Private Cloud. Overview and Components.'
link: 'https://acloudguru.com/course/aws-certified-solutions-architect-associate-saa-c02'
---

# VPC
The Virtual Private Cloud is hugely popular and widely used within AWS. It used to be that if you wanted to set up a server and database, well you needed that computer, software, programers and all that jazz. It was a whole thing. Even if you are a small business, from the time you began to build the project, it was time to expand and upgrade. The world has changed.

Another concern was availability or ensuring customers had access. If you had one server hosting a web server, well what happens if that server goes down? If you had one then you should have two. What if the building caught fire, or there was a flood, a hurricane comes through and took the roof off? Maybe it isn't something so drastic. What if a truck or car hits the pole with the transformer that feeds power to your building?

Now we have virtual machines and containers. These newer technologies allow for services like the **AWS VPC** which is your own private data center in the cloud. You can set up your own network and distribute it across many regions. Create as many computers as you want, running any operating system you want. Using any software you want. Placed in subnets you create, protected by firewalls you set up. Given access to the internet that you determined. You choose whether to make it public or private. All with security in mind. You have full control over who has access to the resources you place within your VPC.

So how do you begin to tackle such a feat as setting up a VPC? Actually, what used to take a month, now takes minutes. Let's take a look at the components that make up a AWS VPC.

* **Subnet** - A subnet is a logical portion of the network that shares a common address component. All devices whose addresses have the same prefix are in the same subnet. For example. The default VPC has a cidr block of 172.31.0.0/16. This gives 65,536 private IPv4 addresses. A subnet is created in AZ 1A with a IPv4 cidr of 172.31.32.0/20 which gives you 4,091 available IPv4 addresses. If you were to spin up an EC2 instance in AZ 1A it could have a IPv4 address of 172.31.32.3. All resources in that subnet would have a network address between 172.31.32.1 to 172.31.47.254.
* **Security Group** - Think of a Security Group as a firewall for your EC2 instances. It controls both inbound and outbound traffic at the instance level. Security Groups are stateful, meaning that if you send a request from your EC2 instance, the response will be allowed to reach the instance, regardless of the outbound rule. You can specify allow rules, but not deny. Rules apply to the protocol, port range, ICMP type and source. A single Security Group can be applied to several instances.
*  **Route Table** - Use the route table to specify the destination (IP Address) and target (where do you want to send the traffic of that destination). It is a set of rules used to direct network traffic. Examples may include a internet gateway, NAT gateway, VPC Peering connection, Virtual Private Gateway and such.
*  **NAT Gateway** - Network Address Translation Gateway is used to control inbound traffic to your subnet. It can be set so instances in a private subnet can connect to services outside your VPC but external services cannot initiate a connection. The default placement is in a public subnet, you must associate an elastic IP address at creation. Traffic from you private subnet will use the NAT Gateway to access the internet and block the internet from accessing the private subnet.
*  **VPC Peering** - This connection allows you to route traffic between two Virtual Private Clouds using IPv4 or IPv6 private addresses. Instance in either VPC can communicate with each other like they were in the same network. Connect your own VPC's or another AWS account. Helps to facilitate data transfer.
*  **Network Access Control List** - Optional security layer for VPC that acts similar to a Security Group. Think of it as a stateless firewall. You set rules that control inbound and outbound traffic individually. If you set a rule for inbound traffic, no outbound rule is auto created. You can allow traffic out and prevent traffic in. Default config when creating the VPC will allow all traffic to flow in and out of the subnet it is associated. Create a new NACL and default will deny all traffic flow.
*  **Elastic IP** - It is a static IP address that never changes and is a reserved public IP address that can be assigned to any Instance in a particular region. An elastic IP is reserved for your AWS account and is yours until you release it.
*  **Virtual Private Gateway** - This is a VPN concentrator on the Amazon side of the VPN connection. You create a virtual private gateway and attach it to the VPC from which you want to create the VPN connection.
*  **Customer Gateway** -  An Amazon VPC VPN connection links your data center (or network) to your Amazon VPC (virtual private cloud). A customer gateway is an anchor on your side of that connection. It can be a physical or software appliance.
*  **Network Interface** - Network Interface is a point of connection between a public and a private network. Every instance has a default network interface, called the primary network interface. Network traffic is automatically shifted to the new instance if you move it from one instance to the other.
*  **VPC Endpoints** - VPC endpoints allow private connection between your AWS VPC and other AWS services without using the internet. VPC endpoint devices are scaled, redundant, and highly available VPC components. There are two types of AWS Virtual Private Cloud endpoints Interface endpoints and Gateway Endpoints.
